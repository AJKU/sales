#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:4.0.30319.42000
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    using Frapid.Configuration;
    using Frapid.Dashboard;
    using Frapid.DataAccess;
    using Frapid.DbPolicy;
    using Frapid.Framework;
    using Frapid.i18n;
    using Frapid.Messaging;
    using Frapid.WebsiteBuilder;
    using MixERP.Sales;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/Shared/SalesEntryForm.cshtml")]
    public partial class _Views_Shared_SalesEntryForm_cshtml : System.Web.Mvc.WebViewPage<dynamic>
    {
        public _Views_Shared_SalesEntryForm_cshtml()
        {
        }
        public override void Execute()
        {
WriteLiteral("<div");

WriteLiteral(" class=\"header items\"");

WriteLiteral(">\r\n    <div");

WriteLiteral(" class=\"two summary items\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"amount item\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" class=\"description\"");

WriteLiteral(">Amount</div>\r\n            <div");

WriteLiteral(" class=\"money\"");

WriteLiteral(">\r\n                <span></span>\r\n            </div>\r\n        </div>\r\n        <di" +
"v");

WriteLiteral(" class=\"count item\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" class=\"description\"");

WriteLiteral(">Count</div>\r\n            <div");

WriteLiteral(" class=\"money\"");

WriteLiteral(">\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div");

WriteLiteral(" class=\"tender info items\"");

WriteLiteral(">\r\n    <div");

WriteLiteral(" class=\"payment type container\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" data-payment-type=\"cash\"");

WriteLiteral(" class=\"two summary items\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" class=\"tender item\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" class=\"description\"");

WriteLiteral(">Cash Tender</div>\r\n                <div");

WriteLiteral(" class=\"control\"");

WriteLiteral(">\r\n                    <input");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"decimal\"");

WriteLiteral(" id=\"TenderInputText\"");

WriteLiteral(" />\r\n                </div>\r\n            </div>\r\n            <div");

WriteLiteral(" class=\"change item\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" class=\"description\"");

WriteLiteral(">Cash Change</div>\r\n                <div");

WriteLiteral(" class=\"control\"");

WriteLiteral(">\r\n                    <input");

WriteLiteral(" class=\"decimal\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" readonly=\"readonly\"");

WriteLiteral(" id=\"ChangeInputText\"");

WriteLiteral(" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div");

WriteLiteral(" data-payment-type=\"credit\"");

WriteLiteral(" style=\"display: none;\"");

WriteLiteral(" class=\"one summary items\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" class=\"gift-card number item\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" class=\"description\"");

WriteLiteral(">Payment Term</div>\r\n                <div");

WriteLiteral(" class=\"control\"");

WriteLiteral(">\r\n                    <select");

WriteLiteral(" class=\"ui inverted fluid dropdown\"");

WriteLiteral(" id=\"PaymentTermSelect\"");

WriteLiteral("></select>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <" +
"div");

WriteLiteral(" data-payment-type=\"check\"");

WriteLiteral(" style=\"display: none;\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" class=\"two summary items\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" class=\"check amount item\"");

WriteLiteral(">\r\n                    <div");

WriteLiteral(" class=\"description\"");

WriteLiteral(">Check Amount</div>\r\n                    <div");

WriteLiteral(" class=\"control\"");

WriteLiteral(">\r\n                        <input");

WriteLiteral(" class=\"decimal\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" id=\"CheckAmountInputText\"");

WriteLiteral(" />\r\n                    </div>\r\n                </div>\r\n                <div");

WriteLiteral(" class=\"check bank name item\"");

WriteLiteral(">\r\n                    <div");

WriteLiteral(" class=\"description\"");

WriteLiteral(">Bank Name</div>\r\n                    <div");

WriteLiteral(" class=\"control\"");

WriteLiteral(">\r\n                        <input");

WriteLiteral(" type=\"text\"");

WriteLiteral(" id=\"BankNameInputText\"");

WriteLiteral(" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n    " +
"        <div");

WriteLiteral(" class=\"two summary items\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" class=\"check number item\"");

WriteLiteral(">\r\n                    <div");

WriteLiteral(" class=\"description\"");

WriteLiteral(">Check Number</div>\r\n                    <div");

WriteLiteral(" class=\"control\"");

WriteLiteral(">\r\n                        <input");

WriteLiteral(" type=\"text\"");

WriteLiteral(" id=\"CheckNumberInputText\"");

WriteLiteral(" />\r\n                    </div>\r\n                </div>\r\n                <div");

WriteLiteral(" class=\"check date item\"");

WriteLiteral(">\r\n                    <div");

WriteLiteral(" class=\"description\"");

WriteLiteral(">Check Date</div>\r\n                    <div");

WriteLiteral(" class=\"control\"");

WriteLiteral(">\r\n                        <input");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"date\"");

WriteLiteral(" id=\"CheckDateInputText\"");

WriteLiteral(" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n    " +
"    </div>\r\n        <div");

WriteLiteral(" data-payment-type=\"gift-card\"");

WriteLiteral(" style=\"display: none;\"");

WriteLiteral(" class=\"two summary items\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" class=\"gift-card number item\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" class=\"description\"");

WriteLiteral(">Gift Card Number</div>\r\n                <div");

WriteLiteral(" class=\"control\"");

WriteLiteral(">\r\n                    <div");

WriteLiteral(" class=\"ui action fluid input\"");

WriteLiteral(">\r\n                        <input");

WriteLiteral(" id=\"GiftCardNumberInputText\"");

WriteLiteral(" required=\"\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(">\r\n                        <button");

WriteLiteral(" class=\"ui icon blue button\"");

WriteLiteral(" onclick=\'$(\".ui.gift.card.modal\").modal(\"show\");\'");

WriteLiteral(">\r\n                            <i");

WriteLiteral(" class=\"search icon\"");

WriteLiteral("></i>\r\n                        </button>\r\n                    </div>\r\n           " +
"     </div>\r\n            </div>\r\n            <div");

WriteLiteral(" class=\"gift-card balance item\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" class=\"description\"");

WriteLiteral(">Gift Card Balance</div>\r\n                <div");

WriteLiteral(" class=\"control\"");

WriteLiteral(">\r\n                    <input");

WriteLiteral(" class=\"decimal\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(" readonly=\"readonly\"");

WriteLiteral(" id=\"GiftCardNumberBalanceInputText\"");

WriteLiteral(" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    " +
"<div");

WriteLiteral(" class=\"one summary items\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"customer item\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" class=\"description\"");

WriteLiteral(">Customer</div>\r\n            <div");

WriteLiteral(" class=\"control\"");

WriteLiteral(">\r\n                ");

WriteLiteral("\r\n                <div");

WriteLiteral(" class=\"ui fluid customer search\"");

WriteLiteral(">\r\n                    <div");

WriteLiteral(" class=\"ui left icon fluid input\"");

WriteLiteral(">\r\n                        <input");

WriteLiteral(" id=\"CustomerInputText\"");

WriteLiteral(" class=\"prompt\"");

WriteLiteral(" type=\"text\"");

WriteLiteral(">\r\n                        <i");

WriteLiteral(" class=\"search grey icon\"");

WriteLiteral("></i>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n  " +
"      </div>\r\n    </div>\r\n    <div");

WriteLiteral(" class=\"three summary items\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"coupon code item\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" class=\"description\"");

WriteLiteral(">Coupon Code</div>\r\n            <div");

WriteLiteral(" class=\"control\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"\"");

WriteLiteral(" id=\"CouponCodeInputText\"");

WriteLiteral(" />\r\n            </div>\r\n        </div>\r\n        <div");

WriteLiteral(" class=\"discount type item\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" class=\"description\"");

WriteLiteral(">Discount Type</div>\r\n            <div");

WriteLiteral(" class=\"control\"");

WriteLiteral(">\r\n                <select");

WriteLiteral(" class=\"ui inverted fluid dropdown\"");

WriteLiteral(" id=\"DiscountTypeSelect\"");

WriteLiteral(">\r\n                    <option");

WriteLiteral(" value=\"1\"");

WriteLiteral(">Rate</option>\r\n                    <option");

WriteLiteral(" value=\"2\"");

WriteLiteral(">Amount</option>\r\n                </select>\r\n            </div>\r\n        </div>\r\n" +
"        <div");

WriteLiteral(" class=\"discount item\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" class=\"description\"");

WriteLiteral(">Discount</div>\r\n            <div");

WriteLiteral(" class=\"control\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"decimal\"");

WriteLiteral(" id=\"DiscountInputText\"");

WriteLiteral(" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div");

WriteLiteral(" class=\"two summary items\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"value date item\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" class=\"description\"");

WriteLiteral(">Value Date</div>\r\n            <div");

WriteLiteral(" class=\"control\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"date\"");

WriteLiteral(" id=\"ValueDateInputText\"");

WriteLiteral(" />\r\n            </div>\r\n        </div>\r\n        <div");

WriteLiteral(" class=\"book date item\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" class=\"description\"");

WriteLiteral(">Book Date</div>\r\n            <div");

WriteLiteral(" class=\"control\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"date\"");

WriteLiteral(" id=\"BookDateInputText\"");

WriteLiteral(" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <a");

WriteLiteral(" class=\"show more anchor\"");

WriteLiteral(">Show More</a>\r\n    <div");

WriteLiteral(" class=\"more\"");

WriteLiteral(" style=\"display: none;\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"one summary items\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" class=\"cost center item\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" class=\"description\"");

WriteLiteral(">Cost Center</div>\r\n                <div");

WriteLiteral(" class=\"control\"");

WriteLiteral(">\r\n                    <select");

WriteLiteral(" class=\"ui inverted fluid dropdown\"");

WriteLiteral(" id=\"CostCenterSelect\"");

WriteLiteral("></select>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <" +
"div");

WriteLiteral(" class=\"one summary items\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" class=\"shipping company item\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" class=\"description\"");

WriteLiteral(">Shipper</div>\r\n                <div");

WriteLiteral(" class=\"control\"");

WriteLiteral(">\r\n                    <select");

WriteLiteral(" class=\"ui inverted fluid dropdown\"");

WriteLiteral(" id=\"ShipperSelect\"");

WriteLiteral("></select>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <" +
"div");

WriteLiteral(" class=\"two summary items\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" class=\"reference number item\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" class=\"description\"");

WriteLiteral(">Ref#</div>\r\n                <div");

WriteLiteral(" class=\"control\"");

WriteLiteral(">\r\n                    <input");

WriteLiteral(" type=\"text\"");

WriteLiteral(" id=\"ReferenceNumberInputText\"");

WriteLiteral(" />\r\n                </div>\r\n            </div>\r\n            <div");

WriteLiteral(" class=\"memo item\"");

WriteLiteral(">\r\n                <div");

WriteLiteral(" class=\"description\"");

WriteLiteral(">Memo</div>\r\n                <div");

WriteLiteral(" class=\"control\"");

WriteLiteral(">\r\n                    <input");

WriteLiteral(" type=\"text\"");

WriteLiteral(" id=\"StatementReferenceInputText\"");

WriteLiteral(" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <a");

WriteLiteral(" class=\"show less anchor\"");

WriteLiteral(">Show Less</a>\r\n    </div>\r\n    <div");

WriteLiteral(" class=\"ui one column padded grid\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"column\"");

WriteLiteral(">\r\n            <button");

WriteLiteral(" class=\"ui big green button\"");

WriteLiteral(" id=\"CheckoutButton\"");

WriteLiteral(">Checkout</button>\r\n\r\n            <div");

WriteLiteral(" class=\"ticket panel\"");

WriteLiteral(">\r\n                <iframe");

WriteLiteral(" id=\"TicketIframe\"");

WriteLiteral("></iframe>\r\n                <button");

WriteLiteral(" class=\"ui blue circular button\"");

WriteLiteral(" onclick=\"$(\'#TicketIframe\').get(0).contentWindow.print();\"");

WriteLiteral(" id=\"PrintButton\"");

WriteLiteral(">Print</button>\r\n                <button");

WriteLiteral(" class=\"ui red  circular button\"");

WriteLiteral(" onclick=\"$(\'.ticket.panel\').hide();\"");

WriteLiteral(">Hide</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<script" +
">\r\n    function getLocalStorageKey(id) {\r\n        return \"posTab\" + id;\r\n    };\r" +
"\n\r\n    function getModel() {\r\n        function getDetails() {\r\n            const" +
" items = $(\"#SalesItems .item\");\r\n            var model = [];\r\n\r\n            $.e" +
"ach(items, function () {\r\n                const el = $(this);\r\n                c" +
"onst itemId = parseInt(el.attr(\"data-item-id\"));\r\n                const quantity" +
" = window.parseFloat2(el.find(\"input.quantity\").val());\r\n                const u" +
"nitId = parseInt(el.find(\"select.unit\").val());\r\n                const price = w" +
"indow.parseFloat2(el.find(\"input.price\").val() || 0);\r\n                const dis" +
"countRate = window.parseFloat2(el.find(\"input.discount\").val() || 0);\r\n         " +
"       const discount = (price * quantity) * (discountRate / 100);\r\n            " +
"    const tax = window.parseFloat(el.find(\".tax-amount\").html() || 0);\r\n\r\n      " +
"          model.push({\r\n                    StoreId: $(\"#StoreSelect\").val(),\r\n " +
"                   ItemId: itemId,\r\n                    Quantity: quantity,\r\n   " +
"                 UnitId: unitId,\r\n                    Price: price,\r\n           " +
"         DiscountRate: discountRate,\r\n                    Discount: discount,\r\n " +
"                   Tax: tax\r\n                });\r\n            });\r\n\r\n           " +
" return model;\r\n        };\r\n\r\n        //Cash\r\n        const tender = window.pars" +
"eFloat2($(\"#TenderInputText\").val());\r\n        const change = window.parseFloat2" +
"($(\"#ChangeInputText\").val());\r\n\r\n        //Credit\r\n        const counterId = pa" +
"rseInt($(\"#CounterSelect\").val()) || null;\r\n        const paymentTermId = parseI" +
"nt($(\"#PaymentTermSelect\").val()) || null;\r\n\r\n        //Check\r\n        const che" +
"ckAmount = window.parseFloat2($(\"#CheckAmountInputText\").val()) || null;\r\n      " +
"  const bankName = $(\"#BankNameInputText\").val();\r\n        const checkNumber = $" +
"(\"#CheckNumberInputText\").val();\r\n        const checkDate = $(\"#CheckDateInputTe" +
"xt\").datepicker(\"getDate\");\r\n\r\n        //Gift Card\r\n        const giftCardNumber" +
" = $(\"#GiftCardNumberInputText\").val();\r\n\r\n\r\n        //Discount Coupon\r\n        " +
"const couponCode = $(\"#CouponCodeInputText\").val();\r\n\r\n        //Discount\r\n     " +
"   const discountType = $(\"#DiscountTypeSelect\").val();\r\n        const discount " +
"= window.parseFloat2($(\"#DiscountInputText\").val());\r\n\r\n        const valueDate " +
"= $(\"#ValueDateInputText\").datepicker(\"getDate\");\r\n        const bookDate = $(\"#" +
"BookDateInputText\").datepicker(\"getDate\");\r\n        const costCenterId = parseIn" +
"t($(\"#CostCenterSelect\").val()) || null;\r\n        const referenceNumber = $(\"#Re" +
"ferenceNumberInputText\").val();\r\n        const statementReference = $(\"#Statemen" +
"tReferenceInputText\").val();\r\n        const customerId = parseInt($(\"#CustomerIn" +
"putText\").attr(\"data-customer-id\")) || null;\r\n        const customerName = $(\"#C" +
"ustomerInputText\").val();\r\n        const priceTypeId = $(\"#PriceTypeSelect\").val" +
"();\r\n        const shipperId = $(\"#ShipperSelect\").val();\r\n        const storeId" +
" = $(\"#StoreSelect\").val();\r\n        const details = getDetails();\r\n        cons" +
"t quotationId = parseInt(window.getQueryStringByName(\"QuotationId\")) || null;\r\n " +
"       const orderId = parseInt(window.getQueryStringByName(\"OrderId\")) || null;" +
"\r\n\r\n        return {\r\n            Tender: tender,\r\n            Change: change,\r\n" +
"            PaymentTermId: paymentTermId,\r\n            CheckAmount: checkAmount," +
"\r\n            CheckBankName: bankName,\r\n            CheckNumber: checkNumber,\r\n " +
"           CheckDate: checkDate,\r\n            CounterId: counterId,\r\n           " +
" GiftCardNumber: giftCardNumber,\r\n            CouponCode: couponCode,\r\n         " +
"   DiscountType: discountType,\r\n            IsFlatDiscount: discountType === 2,\r" +
"\n            Discount: discount,\r\n            ValueDate: valueDate,\r\n           " +
" BookDate: bookDate,\r\n            CostCenterId: costCenterId,\r\n            Refer" +
"enceNumber: referenceNumber,\r\n            StatementReference: statementReference" +
",\r\n            CustomerId: customerId,\r\n            CustomerName: customerName,\r" +
"\n            PriceTypeId: priceTypeId,\r\n            ShipperId: shipperId,\r\n     " +
"       StoreId: storeId,\r\n            Details: details,\r\n            SalesQuotat" +
"ionId: quotationId,\r\n            SalesOrderId: orderId\r\n        };\r\n    };\r\n\r\n  " +
"  function getModelById(id) {\r\n        const key = getLocalStorageKey(id);\r\n    " +
"    const item = localStorage.getItem(key);\r\n\r\n        if (item) {\r\n            " +
"return JSON.parse(item);\r\n        };\r\n\r\n        return null;\r\n    };\r\n\r\n    func" +
"tion removeModelById(id) {\r\n        const key = getLocalStorageKey(id);\r\n       " +
" localStorage.removeItem(key);\r\n    };\r\n\r\n    function clearState() {\r\n        $" +
".each(localStorage, function (key) {\r\n            if (key.substr(0, 6) === \"posT" +
"ab\") {\r\n                localStorage.removeItem(key);\r\n            };\r\n        }" +
");\r\n    };\r\n    clearState();\r\n\r\n    function getSelectedTabId() {\r\n        cons" +
"t id = parseInt($(\".tabs .selected.item:not(.new)\").html());\r\n        return id;" +
"\r\n    };\r\n\r\n    function loadState() {\r\n        const id = getSelectedTabId();\r\n" +
"\r\n        if (id) {\r\n            loadModelById(id);\r\n        };\r\n    };\r\n\r\n    f" +
"unction saveState() {\r\n        const id = getSelectedTabId();\r\n\r\n        if (!id" +
") {\r\n            window.displayMessage(\"Please select a tab\");\r\n            retu" +
"rn;\r\n        };\r\n\r\n        const model = window.getModel();\r\n        const key =" +
" getLocalStorageKey(id);\r\n        localStorage.setItem(key, JSON.stringify(model" +
"));\r\n    };\r\n\r\n    function removeState() {\r\n        const id = getSelectedTabId" +
"();\r\n\r\n        if (id) {\r\n            removeModelById(id);\r\n        };\r\n    };\r\n" +
"\r\n    function loadModelData(model) {\r\n        if (!model) {\r\n            return" +
";\r\n        };\r\n\r\n        window.clearScreen();\r\n\r\n\r\n        $(\"#TenderInputText\"" +
").val(model.Tender);\r\n        $(\"#ChangeInputText\").val(model.Change);\r\n        " +
"$(\"#PaymentTermSelect\").dropdown(\"set selected\", model.PaymentTermId);\r\n        " +
"$(\"#CounterSelect\").dropdown(\"set selected\", model.CounterId);\r\n\r\n        $(\"#Ch" +
"eckAmountInputText\").val(model.CheckAmount);\r\n        $(\"#BankNameInputText\").va" +
"l(model.CheckBankName);\r\n        $(\"#CheckNumberInputText\").val(model.CheckNumbe" +
"r);\r\n\r\n        if (model.CheckDate) {\r\n            $(\"#CheckDateInputText\").date" +
"picker(\"setDate\", new Date(model.CheckDate));\r\n        };\r\n\r\n\r\n        $(\"#GiftC" +
"ardNumberInputText\").val(model.GiftCardNumber).trigger(\"change\");\r\n        $(\"#C" +
"ouponCodeInputText\").val(model.CouponCode);\r\n        $(\"#DiscountTypeSelect\").dr" +
"opdown(\"set selected\", model.DiscountType);\r\n        $(\"#DiscountInputText\").val" +
"(model.Discount);\r\n\r\n        if (model.ValueDate) {\r\n            $(\"#ValueDateIn" +
"putText\").datepicker(\"setDate\", new Date(model.ValueDate));\r\n        };\r\n\r\n     " +
"   if (model.BookDate) {\r\n            $(\"#BookDateInputText\").datepicker(\"setDat" +
"e\", new Date(model.BookDate));\r\n        };\r\n\r\n        $(\"#CostCenterSelect\").dro" +
"pdown(\"set selected\", model.CostCenterId);\r\n        $(\"#ReferenceNumberInputText" +
"\").val(model.ReferenceNumber);\r\n        $(\"#StatementReferenceInputText\").val(mo" +
"del.StatementReference);\r\n\r\n        $(\"#CustomerInputText\").attr(\"data-customer-" +
"id\", model.CustomerId).val(model.CustomerCode);\r\n        \r\n        if (model.Pri" +
"ceTypeId) {\r\n            $(\"#PriceTypeSelect\").dropdown(\"set selected\", model.Pr" +
"iceTypeId);\r\n        };\r\n\r\n        if (model.ShipperId) {\r\n            $(\"#Shipp" +
"erSelect\").dropdown(\"set selected\", model.ShipperId);\r\n        };\r\n\r\n        if " +
"(model.StoreId) {\r\n            $(\"#StoreSelect\").dropdown(\"set selected\", model." +
"StoreId);\r\n        };\r\n\r\n\r\n        $.each(model.Details, function () {\r\n        " +
"    const lineItem = this;\r\n\r\n            const itemId = lineItem.ItemId;\r\n     " +
"       const selector = \"#POSItemList .item[data-item-id=\" + itemId + \"]\";\r\n    " +
"        $(selector).trigger(\"click\");\r\n        });\r\n    };\r\n\r\n    function loadM" +
"odelById(id) {\r\n        const model = getModelById(id);\r\n        loadModelData(m" +
"odel);\r\n    };\r\n</script>\r\n<script>\r\n    function showTicket(id) {\r\n        cons" +
"t url = \"/dashboard/sales/ticket/\" + id;\r\n\r\n        $(\"#TicketIframe\").attr(\"src" +
"\", url);\r\n        $(\".ticket.panel\").show();\r\n    };\r\n\r\n    function updateTende" +
"rInfo() {\r\n        const total = window.parseFloat2($(\".amount.item .money\").tex" +
"t());\r\n        const tender = window.parseFloat2($(\"#TenderInputText\").val());\r\n" +
"\r\n        var change = tender - total;\r\n\r\n        if (change < 0) {\r\n           " +
" change = \"ERROR\";\r\n        };\r\n\r\n        $(\"#ChangeInputText\").val(change);\r\n  " +
"  };\r\n\r\n    $(\"#TenderInputText\").on(\"keyup\", function () {\r\n        updateTende" +
"rInfo();\r\n    });\r\n\r\n    $(\"#CheckoutButton\").unbind(\"click\").bind(\"click\", func" +
"tion () {\r\n        function request(model) {\r\n            const url = \"/dashboar" +
"d/sales/tasks/entry/new\";\r\n            const data = JSON.stringify(model);\r\n    " +
"        return window.getAjaxRequest(url, \"POST\", data);\r\n        };\r\n\r\n        " +
"function validate() {\r\n            var transactionTotal = window.parseFloat2($(\"" +
"div.amount .money\").text());\r\n            var cashTender = window.parseFloat2($(" +
"\"#TenderInputText\").val());\r\n            var paymentTerm = parseInt($(\"#PaymentT" +
"ermSelect\").val()) || null;\r\n            var checkAmount = window.parseFloat2($(" +
"\"#CheckAmountInputText\").val());\r\n            var bankName = $(\"#BankNameInputTe" +
"xt\").val();\r\n            var checkDate = $(\"#CheckDateInputText\").datepicker(\"ge" +
"tDate\");\r\n            var checkNumber = $(\"#CheckNumberInputText\").val();\r\n     " +
"       var giftCardNumber = $(\"#GiftCardNumberInputText\").val();\r\n            va" +
"r giftCardBalance = $(\"#GiftCardNumberBalanceInputText\").val();\r\n\r\n            i" +
"f (cashTender >= transactionTotal) {\r\n                //Cash Transaction\r\n\r\n    " +
"            $(\"#CheckAmountInputText\").val(\"\");\r\n                $(\"#BankNameInp" +
"utText\").val(\"\");\r\n                $(\"#CheckDateInputText\").val(\"\");\r\n          " +
"      $(\"#CheckNumberInputText\").val(\"\");\r\n                $(\"#PaymentTermSelect" +
"\").dropdown(\"set selected\", \"Select\");\r\n                $(\"#GiftCardNumberInputT" +
"ext\").val(\"\");\r\n                $(\"#GiftCardNumberBalanceInputText\").val(\"\");\r\n " +
"               return true;\r\n            };\r\n\r\n            if (checkAmount >= tr" +
"ansactionTotal) {\r\n                //Paid via Check/Cheque\r\n                if (" +
"!bankName) {\r\n                    window.displayMessage(\"Please enter the bank n" +
"ame.\");\r\n                    return false;\r\n                };\r\n\r\n              " +
"  if (!checkNumber) {\r\n                    window.displayMessage(\"Please enter t" +
"he check number.\");\r\n                    return false;\r\n                };\r\n\r\n  " +
"              if (!checkDate) {\r\n                    window.displayMessage(\"Plea" +
"se enter the check date.\");\r\n                    return false;\r\n                " +
"};\r\n\r\n                $(\"#TenderInputText\").val(\"\");\r\n                $(\"#Change" +
"InputText\").val(\"\");\r\n                $(\"#PaymentTermSelect\").dropdown(\"set sele" +
"cted\", \"Select\");\r\n                $(\"#GiftCardNumberInputText\").val(\"\");\r\n     " +
"           $(\"#GiftCardNumberBalanceInputText\").val(\"\");\r\n\r\n\r\n                re" +
"turn true;\r\n            };\r\n\r\n            if (giftCardBalance >= transactionTota" +
"l) {\r\n                //Paid via Gift Card\r\n\r\n                if (!giftCardNumbe" +
"r) {\r\n                    window.displayMessage(\"Please enter the gift card numb" +
"er.\");\r\n                    return false;\r\n                };\r\n\r\n               " +
" $(\"#TenderInputText\").val(\"\");\r\n                $(\"#ChangeInputText\").val(\"\");\r" +
"\n                $(\"#CheckAmountInputText\").val(\"\");\r\n                $(\"#BankNa" +
"meInputText\").val(\"\");\r\n                $(\"#CheckDateInputText\").val(\"\");\r\n     " +
"           $(\"#CheckNumberInputText\").val(\"\");\r\n                $(\"#PaymentTermS" +
"elect\").dropdown(\"set selected\", \"Select\");\r\n\r\n                return true;\r\n   " +
"         };\r\n\r\n            //Credit transaction\r\n            $(\"#TenderInputText" +
"\").val(\"\");\r\n            $(\"#ChangeInputText\").val(\"\");\r\n            $(\"#CheckAm" +
"ountInputText\").val(\"\");\r\n            $(\"#BankNameInputText\").val(\"\");\r\n        " +
"    $(\"#CheckDateInputText\").val(\"\");\r\n            $(\"#CheckNumberInputText\").va" +
"l(\"\");\r\n            $(\"#GiftCardNumberInputText\").val(\"\");\r\n            $(\"#Gift" +
"CardNumberBalanceInputText\").val(\"\");\r\n\r\n            if (!paymentTerm) {\r\n      " +
"          window.displayMessage(\"Please select a payment term.\");\r\n             " +
"   return false;\r\n            };\r\n\r\n            return true;\r\n        };\r\n\r\n    " +
"    const isValid = validate();\r\n\r\n        if (!isValid) {\r\n            return;\r" +
"\n        };\r\n\r\n        const model = window.getModel();\r\n\r\n        if (!model.De" +
"tails.length) {\r\n            window.displayMessage(\"Please select an item.\");\r\n " +
"           return;\r\n        };\r\n\r\n        const confirmed = confirm(\"Are you sur" +
"e\");\r\n\r\n        if (!confirmed) {\r\n            return;\r\n        };\r\n\r\n\r\n        " +
"$(\"#CheckoutButton\").addClass(\"loading\");\r\n\r\n        const ajax = request(model)" +
";\r\n\r\n        ajax.success(function (response) {\r\n            const id = response" +
";\r\n            window.clearScreen();\r\n\r\n            window.showTicket(id);\r\n    " +
"        $(\"#CheckoutButton\").removeClass(\"loading\");\r\n        });\r\n\r\n        aja" +
"x.fail(function (xhr) {\r\n            $(\"#CheckoutButton\").removeClass(\"loading\")" +
";\r\n            window.displayMessage(JSON.stringify(xhr));\r\n        });\r\n    });" +
"\r\n</script>");

        }
    }
}
#pragma warning restore 1591
